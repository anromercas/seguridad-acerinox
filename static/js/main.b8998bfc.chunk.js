(this["webpackJsonpexpense-tracker-react"]=this["webpackJsonpexpense-tracker-react"]||[]).push([[0],{175:function(e,t){t.statusEnum=Object.freeze({ASIGNADA:"ASIGNADA",A_REVISAR:"A_REVISAR",OK:"OK",NOK:"NOK"}),t.statusEnumDefault=this.statusEnum.ASIGNADA,t.subTypeEnum=Object.freeze({PUNTUAL:"PUNTUAL",PUNTUAL_ALEATORIA:"PUNTUAL_ALEATORIA",PUNTUAL_SEMANAL:"PUNTUAL_SEMANAL",PUNTUAL_MENSUAL:"PUNTUAL_MENSUAL",SEMANAL:"SEMANAL",MENSUAL:"MENSUAL"}),t.subTypeEnumDefault=this.subTypeEnum.PUNTUAL,t.lineTypeEnum=Object.freeze({FREE_LINE:"FREE_LINE",FIXED_LINE:"FIXED_LINE"}),t.lineTypeEnumDefault=this.lineTypeEnum.FIXED_LINE,t.typeEnum=Object.freeze({CHECKLIST:"CHECKLIST",OPS:"OPS"}),t.typeEnumDefault=this.typeEnum.CHECKLIST},608:function(e,t,a){e.exports=a(962)},634:function(e,t){},636:function(e,t){},678:function(e,t){},79:function(e,t){t.token="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7InJvbGUiOiJBVURJVE9SIiwiYWN0aXZlIjp0cnVlLCJfaWQiOiI1ZWZjZTczMTUxMTA2NjdhZWY1ZDk4NTMiLCJlbWFpbCI6ImF4ZWxAbWFpbC5jb20iLCJmaXJzdG5hbWUiOiJBeGVsIiwic2Vjb25kbmFtZSI6IlZhbGRpdmllc28iLCJsYXN0bmFtZSI6IlhhdmllciIsImZ1bGxuYW1lIjoiQXhlbCBWYWxkaXZpZXNvIFhhdmllciIsImRlcGFydG1lbnQiOiJhY2Vyw61hIiwiYXZhdGFyIjoiYXYtMS5wbmciLCJjcmVhdGVkQXQiOiIyMDIwLTA3LTAxVDE5OjQyOjQxLjIyNloiLCJ1cGRhdGVkQXQiOiIyMDIwLTEwLTA3VDExOjM5OjAzLjAzNVoiLCJfX3YiOjAsInV1aWQiOiJkZjYzMjU1MS1kYWQwLTQxNjItYTZmZS0yNzU3YmQ0NTZlMWUifSwiaWF0IjoxNjAyNjc3NzA2LCJleHAiOjE2MDI4OTM3MDZ9.HuZH2T0LVUTX5fYp6HOHgwmHC0_Wi1jO0Hml46qhrd8"},825:function(e,t){Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t}},962:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),l=a.n(c),o=a(18),i=a(224),s=a(23),u=a.n(s),m=a(41),p=a(153),d=a(42),E=function(e,t){switch(t.type){case"GET_CHECKLISTS":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,checklists:t.payload});case"GET_CHECKLIST_INSTANCES":var a=t.payload;return e.checklistInstances.forEach((function(e){a.find((function(t){return t._id===e._id}))||a.push(e)})),Object(d.a)(Object(d.a)({},e),{},{loading:!1,checklistInstances:a});case"GET_AUDITORS":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,auditors:t.payload});case"GET_LATESTS":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,latests:t.payload});case"DELETE_CHECKLIST_INSTANCE":return Object(d.a)(Object(d.a)({},e),{},{checklistInstances:e.checklistInstances.filter((function(e){return e._id!==t.payload})),latests:e.latests.filter((function(e){return e._id!==t.payload}))});case"ADD_CHECKLIST":return Object(d.a)(Object(d.a)({},e),{},{checklists:[t.payload].concat(Object(p.a)(e.checklists))});case"ADD_CHECKLIST_INSTANCE":return Object(d.a)(Object(d.a)({},e),{},{checklistInstances:[t.payload].concat(Object(p.a)(e.checklistInstances)),latests:[t.payload].concat(Object(p.a)(e.latests)).splice(0,10)});case"UPDATE_CHECKLIST_INSTANCE":var n=e.checklistInstances.filter((function(e){return e._id!==t.payload._id}));e.latests.filter((function(e){return e._id!==t.payload._id}));return Object(d.a)(Object(d.a)({},e),{},{checklistInstances:[].concat(Object(p.a)(n),[t.payload])});case"TA_ERROR":return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});case"TA_VALIDATION_ERROR":return Object(d.a)(Object(d.a)({},e),{},{validationError:t.payload});case"TA_SUCCESS_MESSAGE":return Object(d.a)(Object(d.a)({},e),{},{successMessage:t.payload});default:return e}},f=a(47),h=a.n(f),g=a(79),b=a.n(g),y=a(79),v="https://api.seguridad-acerinox.es",O={checklists:[],checklistInstances:[],latests:[],auditors:[],error:null,loading:!0,validationError:null,successMessage:null},k=y.token,C=Object(n.createContext)(O),j=function(e){var t=e.children,a=Object(n.useReducer)(E,O),c=Object(o.a)(a,2),l=c[0],i=c[1];function s(){return(s=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json",token:k}},e.prev=1,e.next=4,h.a.get(v+"/api/v1/queries/auditors",t);case 4:a=e.sent,i({type:"GET_AUDITORS",payload:a.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function p(){return(p=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json",token:k}},e.prev=1,e.next=4,h.a.get(v+"/api/v1/checklists",t);case 4:a=e.sent,i({type:"GET_CHECKLISTS",payload:a.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function d(){return(d=Object(m.a)(u.a.mark((function e(t,a,n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"application/json",token:k}},e.prev=1,e.next=4,h.a.get(v+"/api/v1/checklistInstances/".concat(t,"/").concat(a,"/").concat(n),r);case 4:c=e.sent,i({type:"GET_CHECKLIST_INSTANCES",payload:c.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function f(){return(f=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json",token:k}},e.prev=1,e.next=4,h.a.get(v+"/api/v1/queries/latests/".concat(t),a);case 4:n=e.sent,i({type:"GET_LATESTS",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function g(){return(g=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json",token:k}},e.prev=1,e.next=4,h.a.delete(v+"/api/v1/checklistInstances/".concat(t),a);case 4:i({type:"DELETE_CHECKLIST_INSTANCE",payload:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function b(){return(b=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json",token:k}},e.prev=1,e.next=4,h.a.post(v+"/api/v1/checklists",t,a);case 4:n=e.sent,i({type:"ADD_CHECKLIST",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function y(){return(y=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json",token:k}},e.prev=1,e.next=4,h.a.post(v+"/api/v1/checklistInstances",t,a);case 4:n=e.sent,i({type:"ADD_CHECKLIST_INSTANCE",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function j(){return(j=Object(m.a)(u.a.mark((function e(t,a,n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"application/json",token:k}},e.prev=1,e.next=4,h.a.put(v+"/api/v1/checklistInstances/".concat(a,"/").concat(n),t,r);case 4:c=e.sent,console.log("globalstate update checklistInstance: ",JSON.stringify(t)),console.log("globalstate newStatus: ",a),i({type:"UPDATE_CHECKLIST_INSTANCE",payload:c.data.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return r.a.createElement(C.Provider,{value:{checklists:l.checklists,checklistInstances:l.checklistInstances,auditors:l.auditors,latests:l.latests,error:l.error,loading:l.loading,validationError:l.validationError,successMessage:l.successMessage,getAuditors:function(){return s.apply(this,arguments)},getChecklists:function(){return p.apply(this,arguments)},getChecklistInstances:function(e,t,a){return d.apply(this,arguments)},getLatests:function(e){return f.apply(this,arguments)},addChecklist:function(e){return b.apply(this,arguments)},addChecklistInstance:function(e){return y.apply(this,arguments)},deleteChecklistInstance:function(e){return g.apply(this,arguments)},updateChecklistInstanceStatus:function(e,t,a){return j.apply(this,arguments)},resetError:function(){i({type:"TA_ERROR",payload:null})},setValidationError:function(e){i({type:"TA_VALIDATION_ERROR",payload:e})},setSuccessMessage:function(e){i({type:"TA_SUCCESS_MESSAGE",payload:e})}}},t)};Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};var S=a(1033),x=a(149),T=a(542),A=a(1049),I=a(374),L=a(1041),w=a(1075),N=a(1080),D=a(1050),_=a(1048),R=a(965),z=a(527),P=a.n(z),U=a(1083),M=a(219),W=a(55),H=a(1069),K=a(1061),F=a(7),V=a(1035),G=a(1036),B=a(964),J=a(1037),X=a(1038),Y=a(1034),Z=a(1078),Q=a(1087),q=(Object(F.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(Y.a),Object(V.a)((function(e){return{root:{width:"100%",maxWidth:"auto",backgroundColor:e.palette.background.paper,position:"relative",overflow:"auto",maxHeight:200},listSection:{backgroundColor:"inherit"},ul:{backgroundColor:"inherit",padding:0}}}))),$=function(e){for(var t=e.values,a=e.handleFunction,c=e.primaryDisplayKey,l=e.sectionKey,i=Object(n.useState)([]),s=Object(o.a)(i,2),u=s[0],m=s[1],d=q(),E={},f=function(e,t,n){m([t,n]),a(E[t][n]),console.log("valuesBySection returned "+JSON.stringify(E[t][n]))},h=0;h<t.length;h++){var g=t[h][l];E.hasOwnProperty(g)?E[g]=[].concat(Object(p.a)(E[g]),[t[h]]):E[g]=[t[h]]}return void 0===l?r.a.createElement(G.a,{className:d.root,component:"nav","aria-label":"secondary mailbox folder"},void 0===t||null===t?"":t.map((function(e,t){return r.a.createElement(B.a,{button:!0,selected:u.toString()===[void 0,t].toString(),onClick:function(e){return f(0,void 0,t)}},e.avatar?r.a.createElement(Z.a,{alt:"A.M.",src:e.avatar,className:d.large}):"",r.a.createElement(J.a,{primary:e[c]}))}))):r.a.createElement(G.a,{className:d.root,subheader:r.a.createElement("li",null)},Object.keys(E).map((function(e){return r.a.createElement("li",{key:"section-".concat(e),className:d.listSection},r.a.createElement("ul",{className:d.ul},r.a.createElement(X.a,null,r.a.createElement(Q.a,{label:"".concat(e)})),E[e].map((function(t,a){return r.a.createElement(B.a,{key:"".concat(e,"-").concat(t._id),button:!0,selected:u.toString()===[e,a].toString(),onClick:function(t){return f(0,e,a)}},t.avatar?r.a.createElement(Z.a,{alt:"A.M.",src:t.avatar}):"",r.a.createElement(J.a,{primary:"".concat(t[c])}))}))))})))},ee=a(1073),te=a(1039),ae=a(210),ne=a.n(ae),re=a(182),ce=a.n(re),le=Object(V.a)({root:{flexGrow:1,maxWidth:500}}),oe=function(e){var t=e.tabNames,a=e.icons,c=e.handleSelection,l=le(),i=Object(n.useState)(0),s=Object(o.a)(i,2),u=s[0],m=s[1],p=function(e){var t=r.a.createElement(ce.a,null);switch(e){case"PlaylistAddCheckRounded":t=r.a.createElement(ce.a,null);break;case"WarningRounded":t=r.a.createElement(ne.a,null)}return t};return r.a.createElement(I.a,{square:!0,className:l.root},r.a.createElement(ee.a,{value:u,onChange:function(e,t){m(t),c(t)},variant:"fullWidth",indicatorColor:"secondary",textColor:"secondary","aria-label":"icon label tabs example"},t.map((function(e,t){return r.a.createElement(te.a,{icon:p(a[t]),label:e})}))))},ie=a(1040),se=a(348),ue=a.n(se),me=function(e){var t=e.task,a=Object(n.useContext)(C).deleteChecklistInstance;return r.a.createElement(ie.a,{key:t._id,message:function(){var e=new Date(t.dueDate),a=e.toLocaleDateString()+" "+e.toLocaleTimeString();return"".concat(t.checklist_id.name," \u25b6\ufe0e ").concat(t.user_id.fullname," \u23af ").concat(t.subType," \u23af ").concat(a)}(),action:r.a.createElement(ue.a,{color:"primary",size:"medium",onClick:function(){a(t._id)}},"Eliminar")})},pe=function(){var e=Object(n.useContext)(C),t=e.latests,a=e.getLatests;return Object(n.useEffect)((function(){a(5)}),[]),r.a.createElement(L.a,{container:!0,direction:"column",spacing:1},r.a.createElement(L.a,{item:!0,xs:!0}),void 0===t?"":t.map((function(e){return r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(me,{key:e._id,task:e}))})))},de=a(1057),Ee=a(1059),fe=a(1042),he=a(1056),ge=a(1058),be=a(1079),ye=a(1054),ve=function(e){var t=e.column,a=e.value;return r.a.createElement(fe.a,{key:t.id,align:t.align},t.format?t.format(a):a)},Oe=a(1043),ke=a(1072),Ce=a(1047),je=Object.freeze({ASSIGNED:"ASSIGNED",REVIEW_PENDING:"REVIEW_PENDING",REVIEWED:"REVIEWED"}),Se=function(e){var t=e.column,a=e.id,c=e.value,l=(Object(n.useContext)(C).getChecklists,Object(n.useState)(c)),i=Object(o.a)(l,2),s=i[0],u=i[1];return r.a.createElement(fe.a,{key:t.id,align:t.align},r.a.createElement(Oe.a,{id:"demo-simple-select-label"},"Pasar a"),r.a.createElement(ke.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:s,onChange:function(e){var n=e.target.value;u(n),t.callback(a,n)}},Object.keys(je).map((function(e){return r.a.createElement(Ce.a,{value:e},e)}))))},xe=a(525),Te=a.n(xe),Ae=a(524),Ie=a.n(Ae),Le=a(967),we=a(1070),Ne=a(1055),De=a(1051),_e=a(1052),Re=a(1053),ze=a(523),Pe=a.n(ze),Ue=a(279),Me=a(278),We=a(1077),He=a(1076),Ke=a(31),Fe=a(175),Ve=(a(812),Ke.f.create({body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},title:{fontSize:24,textAlign:"center",fontFamily:"Oswald"},author:{fontSize:12,textAlign:"center",marginBottom:40,color:"grey",fontWeight:"bold"},subtitle:{fontSize:18,margin:12,fontFamily:"Oswald"},text:{margin:12,fontSize:14,textAlign:"justify",fontFamily:"Times-Roman"},image:{marginVertical:15},header:{fontSize:12,marginBottom:20,textAlign:"center",color:"grey"},date:{textAlign:"right",color:"grey",fontSize:10},score:{margin:12,textAlign:"right",right:10,fontSize:10},freeLine:{marginBottom:10,marginTop:10,backgroundColor:"#e6f2ff"},fixedLine:{marginBottom:10,marginTop:10,backgroundColor:"#e6f2ff"},comments:{fontSize:12,color:"grey",textAlign:"left"},icon:{alignContent:"left",marginBottom:15,height:48,width:48},pageNumber:{position:"absolute",fontSize:12,bottom:30,left:0,right:0,textAlign:"center",color:"grey"}}));function Ge(e){var t=e.checklistInstance,a=function(){return r.a.createElement(Ke.a,null,r.a.createElement(Ke.e,{style:Ve.body},r.a.createElement(Ke.c,{source:"https://cors-anywhere.herokuapp.com/https://img.icons8.com/cotton/64/000000/factory-1.png",style:Ve.icon,fixed:!0}),r.a.createElement(Ke.g,{style:Ve.title},t.checklist_id.name),r.a.createElement(Ke.g,{style:Ve.author},"Realizado por ",t.user_id.fullname," | Supervisado por ",t.lineSupervisor),r.a.createElement(Ke.g,{style:Ve.date},function(e){var t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString()}(t.updatedAt)),r.a.createElement(Ke.h,null,void 0!==t.content&&t.content.map((function(e){return r.a.createElement(n,{section:e})}))),r.a.createElement(Ke.g,{style:Ve.subtitle,break:!0},"Comentarios"),r.a.createElement(Ke.g,{style:Ve.comments},t.comments.reduce((function(e,t){return e.concat(t+"\n")}),""))))},n=function(e){var t=e.section;return r.a.createElement(Ke.h,{style:Ve.freeLine},r.a.createElement(Ke.g,{style:Ve.title},t.section),t.checkpoints.map((function(e){return r.a.createElement(c,{checkpoint:e})})))},c=function(e){var t=e.checkpoint;return r.a.createElement(Ke.h,{style:Ve.freeLine},r.a.createElement(Ke.g,{style:Ve.subtitle},t.name),r.a.createElement(Ke.g,{style:Ve.score},"Puntuaci\xf3n: ",t.score),t.observations.map((function(e){return r.a.createElement(Ke.h,{style:Ve.freeLine},r.a.createElement(Ke.g,{style:Ve.text},e.text),e.images.map((function(e){var t=e?"https://cors-anywhere.herokuapp.com/"+e:"https://picsum.photos/200/300?random=1";return r.a.createElement(Ke.c,{source:t,style:Ve.image})})))})))};return r.a.createElement(Ke.d,{document:r.a.createElement(a,null),fileName:t._id},(function(e){e.blob,e.url;var t=e.loading;e.error;return t?"Generando documento...":"Descargar"}))}Ke.b.register({family:"Oswald",src:"https://fonts.gstatic.com/s/oswald/v13/Y_TKV6o8WovbUd3m_X9aAA.ttf"});var Be=Object(T.a)({palette:{primary:Ue.a,secondary:Me.a}}),Je=function(e){var t=e.row,a=Object(n.useContext)(C).updateChecklistInstanceStatus,c=Object(n.useState)(t.comments.reduce((function(e,t){return e.concat(t+"\n")}),"")),l=Object(o.a)(c,2),i=l[0],s=l[1],p=Object(n.useState)(!0),d=Object(o.a)(p,2),E=d[0],f=d[1],h=Object(n.useState)(!1),g=Object(o.a)(h,2),b=g[0],y=g[1];function v(e,t){return O.apply(this,arguments)}function O(){return(O=Object(m.a)(u.a.mark((function e(n,r){var c,l=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=l.length>2&&void 0!==l[2]?l[2]:5,n.preventDefault(),t.comments=[i],console.log("row.comments "+t.comments),e.next=6,a(t,r,c);case 6:e.sent;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log("!Row: ",t),r.a.createElement(L.a,{container:!0,spacing:3},void 0!==t.content&&t.content.map((function(e){return r.a.createElement(Ze,{checkpoints:e.checkpoints,sectionName:e.section})})),r.a.createElement(L.a,{item:!0,xs:8},r.a.createElement(U.a,{fullWidth:!0,id:"outlined-textarea",label:"Comentarios",placeholder:"Introduzca sus comentarios",multiline:!0,variant:"outlined",defaultValue:i,rows:8,onChange:function(e){return s(e.target.value)}})),r.a.createElement(L.a,{item:!0,xs:4},r.a.createElement(L.a,{container:!0,direction:"column",align:"left",spacing:2},r.a.createElement(L.a,{item:!0},r.a.createElement(A.a,{theme:Be},r.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(e){return v(e,"OK")}},"OK"))),r.a.createElement(L.a,{item:!0},r.a.createElement(A.a,{theme:Be},r.a.createElement(S.a,{variant:"contained",color:"secondary",onClick:function(e){return v(e,"NOK")}},"NOK"),r.a.createElement("br",null),r.a.createElement(D.a,{control:r.a.createElement(He.a,{checked:E,onChange:function(){return f(!E)},name:"extension"}),label:"Conceder 5 dias m\xe1s"}))),r.a.createElement(L.a,{item:!0},"Exportar",r.a.createElement(Le.a,{"area-label":"export",onClick:function(e){return function(e){e.preventDefault(),console.log("To PDF document"),y(!b)}(e)}},r.a.createElement(Pe.a,null)),b&&r.a.createElement(Ge,{checklistInstance:t})))))},Xe=Object(V.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:e.palette.primary.light},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}})),Ye=function(e){var t=e.checkpoint,a=Xe(),c=Object(n.useState)(""),l=Object(o.a)(c,2),s=l[0],u=l[1],m=Object(n.useState)(!1),p=Object(o.a)(m,2),d=p[0],E=p[1],f=function(e){u(e),E(""!==e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(I.a,{variant:"outlined"},t.name),r.a.createElement(i.a,{variant:"overline",display:"block",align:"right",gutterBottom:!0},"Puntuaci\xf3n: ",t.score),r.a.createElement("div",{className:a.root},t.observations.map((function(e){return r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(De.a,{className:a.gridList},e.images.map((function(t){return r.a.createElement(_e.a,{key:t},r.a.createElement("img",{src:t,alt:"",onClick:function(){return f(t)}}),r.a.createElement(Re.a,{title:e.text,classes:{root:a.titleBar,title:a.title}}))}))))})))),r.a.createElement(We.a,{"aria-labelledby":"simple-dialog-title",open:d,onClose:function(){return f("")}},r.a.createElement("img",{src:s,alt:""})))},Ze=function(e){var t=e.sectionName,a=e.checkpoints;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{variant:"h5",align:"left"},t),a.map((function(e){switch(e.type){case Fe.lineTypeEnum.FIXED_LINE:return r.a.createElement(Qe,{checkpoint:e});case Fe.lineTypeEnum.FREE_LINE:return r.a.createElement(Ye,{checkpoint:e});default:return}})))},Qe=function(e){var t=e.checkpoint,a=Xe(),c=Object(n.useState)(""),l=Object(o.a)(c,2),s=l[0],u=l[1],m=Object(n.useState)(!1),p=Object(o.a)(m,2),d=p[0],E=p[1],f=function(e){u(e),E(""!==e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(I.a,{variant:"outlined"},t.name," \u2307 ",t.checked?"Si":"No"),r.a.createElement(i.a,{variant:"overline",display:"block",align:"right",gutterBottom:!0},"Puntuaci\xf3n: ",t.score),r.a.createElement("div",{className:a.root},t.observations.map((function(e){return r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(De.a,{className:a.gridList},e.images.map((function(t){return r.a.createElement(_e.a,{key:t},r.a.createElement("img",{src:t,alt:"",onClick:function(){return f(t)}}),r.a.createElement(Re.a,{title:e.text,classes:{root:a.titleBar,title:a.title}}))}))))})))),r.a.createElement(We.a,{"aria-labelledby":"simple-dialog-title",open:d,onClose:function(){return f("")}},r.a.createElement("img",{src:s,alt:""})))},qe=function(e){var t=e.columns,a=e.row,c=Object(n.useState)(!1),l=Object(o.a)(c,2),i=l[0],s=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{hover:!0,key:a._id},r.a.createElement(fe.a,null,r.a.createElement(Le.a,{"aria-label":"expand row",size:"small",onClick:function(){return s(!i)}},i?r.a.createElement(Ie.a,null):r.a.createElement(Te.a,null))),t.map((function(e){var t=void 0;switch(e.type){case"value":var n=e.id.split(".").reduce((function(e,t){return e&&e[t]}),a);t=r.a.createElement(ve,{column:e,value:n});break;case"action":t=r.a.createElement(Se,{column:e,id:a._id,value:a.status})}return t}))),r.a.createElement(ye.a,null,r.a.createElement(fe.a,{style:{paddingBottom:0,paddingTop:0},colSpan:t.length},r.a.createElement(Ne.a,{in:i,timeout:"auto",unmountOnExit:!0},r.a.createElement(we.a,{margin:1},r.a.createElement(Je,{row:a}))))))},$e=(a(824),a(175)),et=$e.typeEnum,tt=$e.typeEnumDefault,at=$e.statusEnum,nt=Object(V.a)({root:{width:"100%"},container:{maxHeight:440}}),rt=function(){var e=nt(),t=Object(n.useState)(0),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(10),u=Object(o.a)(s,2),m=u[0],p=u[1],d=Object(n.useState)(tt),E=Object(o.a)(d,2),f=E[0],h=E[1],g=Object(n.useContext)(C),b=g.checklistInstances,y=g.getChecklistInstances,v=Object(n.useState)([]),O=Object(o.a)(v,2),k=O[0],j=O[1],S=Object(n.useState)([]),x=Object(o.a)(S,2),T=x[0],A=x[1],L=Object(n.useState)([]),R=Object(o.a)(L,2),z=R[0],P=R[1],U=[{type:"",id:"",label:"",align:"left"},{type:"value",id:"checklist_id.department",label:"Secci\xf3n",align:"left"},{type:"value",id:"checklist_id.name",label:"Tarea",align:"left"},{type:"value",id:"overdueDate",label:"Expira...",align:"left",format:function(e){var t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString()}},{type:"value",id:"subType",label:"Frecuencia",align:"left"},{type:"value",id:"user_id.fullname",label:"Auditor",align:"left"},{type:"value",id:"status",label:"Estado",align:"left"}],M=function(e){switch(h(e),e){case et.CHECKLIST:j(T);break;case et.OPS:j(z);break;default:console.log("No checklist type matched!")}};return Object(n.useEffect)((function(){y(et.CHECKLIST,0,100),y(et.OPS,0,100)}),[]),Object(n.useMemo)((function(){var e=[],t=[];b.forEach((function(a){a.checklist_id.type===et.OPS?e.push(a):a.checklist_id.type===et.CHECKLIST&&t.push(a)}));var a=[at.A_REVISAR,at.NOK,at.ASIGNADA,at.OK],n=[],r=[];a.forEach((function(a){n=n.concat(e.filter((function(e){return e.status===a}))),r=r.concat(t.filter((function(e){return e.status===a})))})),P(n),A(r),console.log("checklistInstances: "+b.length),console.log("checklists.length: "+T.length),console.log("ops.length: "+z.length)}),[b]),Object(n.useEffect)((function(){M(f)}),[z,T]),r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(D.a,{control:r.a.createElement(i.a,{variant:"caption",align:"center",component:"body1"},"Mostrar:"),name:"checkedChecklist",label:""}),r.a.createElement(N.a,{row:!0,"aria-label":"type",name:"type",value:f,onChange:function(e){h(e.target.value),M(e.target.value)}},r.a.createElement(D.a,{value:et.CHECKLIST,control:r.a.createElement(w.a,{icon:r.a.createElement(ce.a,null),checkedIcon:r.a.createElement(ce.a,null)}),label:"Checklist"}),r.a.createElement(D.a,{value:et.OPS,control:r.a.createElement(w.a,{icon:r.a.createElement(ne.a,null),checkedIcon:r.a.createElement(ne.a,null)}),label:"OPS"}))),r.a.createElement(I.a,{className:e.root},r.a.createElement(he.a,{className:e.container},r.a.createElement(de.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(ge.a,null,r.a.createElement(ye.a,null,U.map((function(e){return r.a.createElement(fe.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(Ee.a,null,k.slice(c*m,c*m+m).map((function(e){return r.a.createElement(qe,{columns:U,row:e})}))))),r.a.createElement(be.a,{rowsPerPageOptions:[5,10,100],component:"div",count:k.length,rowsPerPage:m,page:c,onChangePage:function(e,t){l(t)},onChangeRowsPerPage:function(e){p(+e.target.value),l(0)}})))},ct=a(526),lt=a.n(ct),ot=a(1086),it=a(1074);function st(){var e=Object(n.useContext)(C),t=e.error,a=e.resetError,c=function(e,t){"clickaway"!==t&&a()};return t&&r.a.createElement(ot.a,{open:null!==t,autoHideDuration:3e3,onClose:c},r.a.createElement(it.a,{onClose:c,severity:"error"},t))}function ut(){var e=Object(n.useContext)(C),t=e.validationError,a=e.setValidationError,c=function(e,t){"clickaway"!==t&&a(null)};return t&&r.a.createElement(ot.a,{open:null!==t,autoHideDuration:3e3,onClose:c},r.a.createElement(it.a,{onClose:c,severity:"warning"},t))}function mt(){var e=Object(n.useContext)(C),t=e.successMessage,a=e.setSuccessMessage,c=function(e,t){"clickaway"!==t&&a(null)};return t&&r.a.createElement(ot.a,{open:null!==t,autoHideDuration:3e3,onClose:c},r.a.createElement(it.a,{onClose:c,severity:"success"},t))}a(825);var pt=Object(T.a)({palette:{primary:lt.a}}),dt=function(){var e,t=Object(n.useContext)(C),a=t.checklists,c=t.getChecklists,l=(t.addChecklist,t.addChecklistInstance),s=t.auditors,u=t.getAuditors,m=t.error,p=(t.loading,t.setValidationError),d=Object(n.useState)("PUNTUAL"),E=Object(o.a)(d,2),f=E[0],h=E[1],g=Object(n.useState)(new Date("2020-03-26T21:11:54")),b=Object(o.a)(g,2),y=b[0],v=b[1],O=Object(n.useState)(1),k=Object(o.a)(O,2),j=k[0],T=k[1],z=Object(n.useState)(null),F=Object(o.a)(z,2),V=F[0],G=F[1],B=Object(n.useState)(null),J=Object(o.a)(B,2),X=J[0],Y=J[1],Z=Object(n.useState)(0),Q=Object(o.a)(Z,2),q=Q[0],ee=Q[1];Object(n.useEffect)((function(){u(),c()}),[q]);return console.log(m),r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,null),r.a.createElement(st,null),r.a.createElement(ut,null),r.a.createElement(L.a,{container:!0,spacing:3},r.a.createElement(L.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(I.a,null,r.a.createElement(i.a,{variant:"h6",align:"center"}," Tarea "),r.a.createElement(K.a,null),r.a.createElement(oe,{tabNames:["Checklist","OPS"],icons:["PlaylistAddCheckRounded","WarningRounded"],handleSelection:ee}),r.a.createElement($,{values:q?a.filter((function(e){return"CHECKLIST"!==e.type})):a.filter((function(e){return"OPS"!==e.type})),primaryDisplayKey:"name",sectionKey:"department",handleFunction:Y}))),r.a.createElement(L.a,{item:!0,xs:4,md:4,lg:4}),r.a.createElement(L.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(L.a,{container:!0,direction:"column",spacing:2},r.a.createElement(L.a,{item:!0,xs:10},r.a.createElement(I.a,null,r.a.createElement(i.a,{variant:"h6",align:"center"}," Auditor "),r.a.createElement(K.a,null),r.a.createElement($,{values:s,primaryDisplayKey:"fullname",sectionKey:"department",handleFunction:G}))),r.a.createElement(L.a,{item:!0,xs:2},r.a.createElement(A.a,{theme:pt},r.a.createElement(S.a,{variant:"contained",size:"large",color:"primary",startIcon:r.a.createElement(P.a,null),onClick:function(){return function(e){if(console.log("**createNewTask**"),console.log("auditor "+JSON.stringify(V)),console.log("checklistSelected: "+JSON.stringify(X)),console.log("repetition "+j),console.log("fecha selected "+y),console.log("subtype "+f),void 0!==V&&null!==V&&void 0!==X&&null!==X){var t={auditor:V,checklist:X,subType:f,startDate:y,dueDate:y,overdueDate:y.addDays(X.maxOverdueDays),repetition:j};console.log("before addChecklistInstance"),l(t)}else{p("Seleccione auditor y tarea")}}()}},"Asignar"))))),r.a.createElement(L.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(L.a,{container:!0,spacing:1},r.a.createElement(L.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(R.a,{component:"legend"},"Perioricidad"),r.a.createElement(N.a,{"aria-label":"perioricidad",name:"periodo",value:f,onChange:function(e){h(e.target.value)}},r.a.createElement(D.a,{value:"PUNTUAL",control:r.a.createElement(w.a,{color:"secondary"}),label:"Puntual"}),r.a.createElement(D.a,{value:"SEMANAL",control:r.a.createElement(w.a,{color:"secondary"}),label:"Semanal"}),r.a.createElement(D.a,{value:"MENSUAL",control:r.a.createElement(w.a,{color:"secondary"}),label:"Mensual"}),r.a.createElement(D.a,{value:"PUNTUAL_SEMANAL",control:r.a.createElement(w.a,{color:"secondary"}),label:"Dia de la semana"}),r.a.createElement(D.a,{value:"PUNTUAL_MENSUAL",control:r.a.createElement(w.a,{color:"secondary"}),label:"Dia del mes"})))),r.a.createElement(L.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(L.a,{container:!0,direction:"column",spacing:5,justify:"flex-start",alignItems:"flex-start"},r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(R.a,{component:"legend"},"Fecha y Hora"),r.a.createElement(W.a,{utils:M.a},r.a.createElement(H.a,{value:y,onChange:function(e){v(e)}}))),r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(R.a,{component:"legend"},"Repetici\xf3n"),r.a.createElement(U.a,{id:"outlined-basic",variant:"outlined",type:"number",defaultValue:j,inputProps:{min:0},onChange:function(e){T(parseInt(e.target.value))}})))))),r.a.createElement(L.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(R.a,{component:"legend"},"\xdaltimas asignadas"),r.a.createElement(pe,null)),r.a.createElement(L.a,(e={item:!0},Object(x.a)(e,"item",!0),Object(x.a)(e,"xs",12),Object(x.a)(e,"md",12),Object(x.a)(e,"lg",12),e),r.a.createElement(rt,null))))},Et=a(207),ft=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];function l(){return(l=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json",token:b.a}},e.prev=1,e.next=4,h.a.get("/api/v1/queries/statistics/checklists/By/Category/1",t);case 4:a=e.sent,c(a.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{variant:"h6",align:"center",color:"textSecondary"},"top 5 categor\xedas problem\xe1ticas"),r.a.createElement(we.a,{height:500,width:"100%"},r.a.createElement(we.a,{height:"90%",mx:.5,width:"100%",display:"inline-block"},r.a.createElement(Et.a,{data:a,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"categor\xeda",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"nota media",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"nivo"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!1,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)"}]})),r.a.createElement(we.a,{height:"10%",mx:.5,width:"100%",display:"inline-block"})))},ht=function(e){var t=e.type,a=Object(n.useState)("month"),c=Object(o.a)(a,2),l=c[0],s=c[1],p=Object(n.useState)([]),d=Object(o.a)(p,2),E=d[0],f=d[1];function g(){return(g=Object(m.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json",token:b.a.token}},e.prev=1,e.next=4,h.a.get("/api/v1/queries/statistics/checklistsByPeriod/".concat(t,"/").concat(a),n);case 4:r=e.sent,f(r.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(e){g.apply(this,arguments)}(l)}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{variant:"h6",align:"center",color:"textSecondary"},"nota media por departamento"),r.a.createElement(we.a,{height:500,width:"100%"},r.a.createElement(we.a,{height:"90%",mx:.5,width:"100%",display:"inline-block"},r.a.createElement(Et.a,{data:E,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"tiempo",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"nota media",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"nivo"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})),r.a.createElement(we.a,{height:"10%",mx:.5,width:"100%",display:"inline-block"},r.a.createElement(D.a,{value:"month",control:r.a.createElement(w.a,{color:"secondary",checked:"month"===l,onChange:function(e){s(e.target.value)}}),label:"mensual"}),r.a.createElement(D.a,{value:"year",control:r.a.createElement(w.a,{color:"secondary",checked:"year"===l,onChange:function(e){s(e.target.value)}}),label:"anual"}))))},gt=Object(V.a)({table:{minWidth:950}}),bt=function(e){var t=e.columns,a=e.rows,c=e.title,l=Date.now(),s=new Date;s.setDate(s.getDate()-30);var u=Object(n.useState)(l),m=Object(o.a)(u,2),p=m[0],d=m[1],E=Object(n.useState)(s),f=Object(o.a)(E,2),h=f[0],g=f[1],b=gt();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{variant:"h6",align:"center",color:"textSecondary"},c),r.a.createElement(L.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(R.a,{component:"legend"},"Desde"),r.a.createElement(W.a,{utils:M.a},r.a.createElement(H.a,{value:p,onChange:function(e){return d(e)}}))),r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(R.a,{component:"legend"},"Hasta"),r.a.createElement(W.a,{utils:M.a},r.a.createElement(H.a,{value:h,onChange:function(e){return g(e)}})))),r.a.createElement(he.a,{component:I.a},r.a.createElement(de.a,{className:b.table,size:"small","aria-label":"a dense table"},r.a.createElement(ge.a,null,r.a.createElement(ye.a,null,void 0!==t&&t.map((function(e,t){return r.a.createElement(fe.a,{align:0===t?"left":"right"},e)})))),r.a.createElement(Ee.a,null,void 0!==a&&a.map((function(e){return r.a.createElement(ye.a,{key:e.Nombre},r.a.createElement(fe.a,{component:"th",scope:"row"},e.Nombre),e.categor\u00eda_1&&r.a.createElement(fe.a,{align:"right"},e.categor\u00eda_1),e.categor\u00eda_2&&r.a.createElement(fe.a,{align:"right"},e.categor\u00eda_2),e.categor\u00eda_3&&r.a.createElement(fe.a,{align:"right"},e.categor\u00eda_3),e.categor\u00eda_4&&r.a.createElement(fe.a,{align:"right"},e.categor\u00eda_4),e.categor\u00eda_5&&r.a.createElement(fe.a,{align:"right"},e.categor\u00eda_5))}))))))},yt=function(e){e.height;var t=Object(n.useState)(void 0),a=Object(o.a)(t,2),c=a[0],l=a[1];function s(){return(s=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json",token:b.a.token}},console.log("TOKEN: "+b.a.token),e.prev=2,e.next=5,h.a.get("/api/v1/queries/statistics/aggregationTableData/checklist",t);case 5:a=e.sent,console.log("Data from checklist supertable ",a.data.data),l(a.data.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){s.apply(this,arguments)}()}),[]),r.a.createElement(L.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(i.a,{variant:"h5",color:"textSecondary",align:"left"},"Checklist"),r.a.createElement(ht,{type:"checklist"})),r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(ft,null)),r.a.createElement(L.a,{item:!0,xs:!0},void 0!==c?r.a.createElement(bt,{columns:c.columns,rows:c.rows,title:"nota media por tipo de incidencia"}):""))},vt=a(536),Ot=[{month:"Enero","Acer\xeda":48,"Acer\xedaColor":"hsl(299, 70%, 50%)",Office:75,OfficeColor:"hsl(103, 70%, 50%)",Corte:14,CorteColor:"hsl(19, 70%, 50%)","Distribuci\xf3n":59,"Distribuci\xf3nColor":"hsl(327, 70%, 50%)",Limpieza:99,LimpiezaColor:"hsl(334, 70%, 50%)",Transporte:54,TransporteColor:"hsl(204, 70%, 50%)"},{month:"Febrero","Acer\xeda":88,"Acer\xedaColor":"hsl(66, 70%, 50%)",Office:46,OfficeColor:"hsl(30, 70%, 50%)",Corte:11,CorteColor:"hsl(105, 70%, 50%)","Distribuci\xf3n":23,"Distribuci\xf3nColor":"hsl(292, 70%, 50%)",Limpieza:87,LimpiezaColor:"hsl(36, 70%, 50%)",Transporte:40,TransporteColor:"hsl(347, 70%, 50%)"},{month:"Marzo","Acer\xeda":20,"Acer\xedaColor":"hsl(275, 70%, 50%)",Office:99,OfficeColor:"hsl(259, 70%, 50%)",Corte:61,CorteColor:"hsl(36, 70%, 50%)","Distribuci\xf3n":78,"Distribuci\xf3nColor":"hsl(222, 70%, 50%)",Limpieza:8,LimpiezaColor:"hsl(343, 70%, 50%)",Transporte:8,TransporteColor:"hsl(343, 70%, 50%)"},{month:"Abril","Acer\xeda":33,"Acer\xedaColor":"hsl(326, 70%, 50%)",Office:71,OfficeColor:"hsl(183, 70%, 50%)",Corte:12,CorteColor:"hsl(351, 70%, 50%)","Distribuci\xf3n":49,"Distribuci\xf3nColor":"hsl(209, 70%, 50%)",Limpieza:22,LimpiezaColor:"hsl(234, 70%, 50%)",Transporte:22,TransporteColor:"hsl(293, 70%, 50%)"},{month:"Mayo","Acer\xeda":62,"Acer\xedaColor":"hsl(287, 70%, 50%)",Office:91,OfficeColor:"hsl(124, 70%, 50%)",Corte:10,CorteColor:"hsl(283, 70%, 50%)","Distribuci\xf3n":86,"Distribuci\xf3nColor":"hsl(334, 70%, 50%)",Limpieza:12,LimpiezaColor:"hsl(177, 70%, 50%)",Transporte:37,TransporteColor:"hsl(105, 70%, 50%)"},{month:"Junio","Acer\xeda":33,"Acer\xedaColor":"hsl(244, 70%, 50%)",Office:63,OfficeColor:"hsl(56, 70%, 50%)",Corte:51,CorteColor:"hsl(90, 70%, 50%)","Distribuci\xf3n":52,"Distribuci\xf3nColor":"hsl(339, 70%, 50%)",Limpieza:46,LimpiezaColor:"hsl(73, 70%, 50%)",Transporte:8,TransporteColor:"hsl(289, 70%, 50%)"},{month:"Julio","Acer\xeda":83,"Acer\xedaColor":"hsl(207, 70%, 50%)",Office:89,OfficeColor:"hsl(136, 70%, 50%)",Corte:78,CorteColor:"hsl(164, 70%, 50%)","Distribuci\xf3n":17,"Distribuci\xf3nColor":"hsl(156, 70%, 50%)",Limpieza:40,LimpiezaColor:"hsl(139, 70%, 50%)",Transporte:93,TransporteColor:"hsl(262, 70%, 50%)"}],kt=["Acer\xeda","Office","Corte","Distribuci\xf3n","Limpieza","Transporte"],Ct=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(i.a,{variant:"h6",align:"center",color:"textSecondary"},"% realizaci\xf3n por departamento"),r.a.createElement(we.a,{height:500,width:"100%"},r.a.createElement(we.a,{height:"90%",mx:.5,width:"100%",display:"inline-block"},r.a.createElement(vt.a,{data:Ot,keys:kt,indexBy:"month",margin:{top:25,right:130,bottom:50,left:60},padding:.3,layout:"horizontal",maxValue:100*kt.length,colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"Limpieza"},id:"dots"},{match:{id:"Corte"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"mes",legendPosition:"middle",legendOffset:32},axisLeft:null,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})),r.a.createElement(we.a,{height:"10%",mx:.5,width:"100%",display:"inline-block"})))},jt=function(e){e.height;var t=Object(n.useState)(void 0),a=Object(o.a)(t,2),c=a[0],l=a[1];function s(){return(s=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/v1/queries/statistics/aggregationTableData/ops");case 3:t=e.sent,l(t.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){s.apply(this,arguments)}()}),[]),r.a.createElement(L.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(i.a,{variant:"h6",color:"textSecondary",align:"left"},"OPS"),r.a.createElement(ht,{type:"ops"})),r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(ft,null)),r.a.createElement(L.a,{item:!0,xs:!0},void 0!==c?r.a.createElement(bt,{columns:c.columns,rows:c.rows,title:"nota media por tipo de incidencia"}):""),r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(Ct,null)))},St=function(){var e=Object(n.useState)(void 0),t=Object(o.a)(e,2),a=t[0],c=t[1];function l(){return(l=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json",token:g.token.token}},e.prev=1,e.next=4,h.a.get("/api/v1/queries/statistics/aggregationTableData/incident",t);case 4:a=e.sent,c(a.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[]),r.a.createElement(L.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(i.a,{variant:"h5",color:"textSecondary",align:"left"},"Incidentes"),void 0!==a?r.a.createElement(bt,{columns:a.columns,rows:a.rows}):""))},xt=function(){return r.a.createElement(L.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(yt,null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(jt,null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(L.a,{item:!0,xs:!0},r.a.createElement(St,null)))},Tt=a(1063),At=a(1064),It=a(1067),Lt=a(1066),wt=a(1065),Nt=Object(V.a)({root:{maxWidth:345}}),Dt=function(e){var t=e.incident,a=Nt();return r.a.createElement(L.a,{item:!0,xs:4},r.a.createElement(Tt.a,{className:a.root},r.a.createElement(At.a,null,r.a.createElement(wt.a,{component:"img",alt:t.location,height:"140",image:"https://picsum.photos/id/"+Math.floor(100*Math.random())+"/200/300",title:"Contemplative Reptile"}),r.a.createElement(Lt.a,null,r.a.createElement(i.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.department),r.a.createElement(i.a,{variant:"body2",color:"textPrimary",component:"p"},"Descripci\xf3n de la incidencia... ",t.content&&t.content.freeValues&&t.content.freeValues.length>0?t.content.freeValues[0].name|t.content.freeValues[0].description:""))),r.a.createElement(It.a,null,r.a.createElement(S.a,{size:"small",color:"secondary"},"Resuelta"),r.a.createElement(S.a,{size:"small",color:"secondary"},"Reportar"))))},_t=a(79),Rt=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];function l(){return(l=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json",token:_t.token}},e.prev=1,e.next=4,h.a.get("/api/v1/incident",t);case 4:a=e.sent,console.log("Data from incident ",a.data.data),c(a.data.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[]),r.a.createElement(L.a,{container:!0,spacing:3,direction:"row",justify:"space-evenly",alignItems:"center"},a&&a.map((function(e){return r.a.createElement(Dt,{incident:e})})))},zt=a(1068),Pt=a(539),Ut=a.n(Pt),Mt=a(540),Wt=a.n(Mt),Ht=a(541),Kt=a.n(Ht),Ft=Object(V.a)({root:{flexGrow:1}}),Vt=Object(T.a)({alternate:{palette:{primary:Ue.a}},palette:{primary:{main:"#ff4400"},secondary:{light:"#0066ff",main:"#0044ff",contrastText:"#ffcc00"},contrastThreshold:3,tonalOffset:.2}});var Gt=function(){var e=Ft(),t=r.a.useState(0),a=Object(o.a)(t,2),n=a[0],c=a[1];return r.a.createElement(j,null,r.a.createElement(A.a,{theme:Vt},r.a.createElement(zt.a,{maxWidth:"lg"},r.a.createElement(I.a,{elevation:0,className:e.root},r.a.createElement(ee.a,{value:n,onChange:function(e,t){c(t)},variant:"standard",indicatorColor:"",textColor:"primary","aria-label":"main menu tabs",centered:!0},r.a.createElement(te.a,{icon:r.a.createElement(Ut.a,null),label:"Asignador"}),r.a.createElement(te.a,{icon:r.a.createElement(Wt.a,null),label:"Estad\xedsticas"}),r.a.createElement(te.a,{icon:r.a.createElement(Kt.a,null),label:"Incidencias"}))),0===n&&r.a.createElement(dt,null),1===n&&r.a.createElement(xt,null),2===n&&r.a.createElement(Rt,null))))};l.a.render(r.a.createElement(Gt,null),document.getElementById("root"))}},[[608,1,2]]]);
//# sourceMappingURL=main.b8998bfc.chunk.js.map